 <!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Evaluasi Sistem Persamaan Linear Tiga Variabel (SPLTV) Kelas X</title>
<p><em>Disusun oleh: Lina Diah Pangestu</em></p>
<style>
body {
  font-family: "Segoe UI", sans-serif;
  background: #f5f7fb;
  margin: 0;
  padding: 20px;
}
.container {
  max-width: 850px;
  margin: auto;
  background: #fff;
  border-radius: 12px;
  padding: 20px 30px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
h1, h2 {
  text-align: center;
  color: #2a4d69;
}
button {
  background: #2a4d69;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
}
button:hover { background: #4b86b4; }
.hidden { display: none; }
.question {
  border-bottom: 1px solid #ddd;
  padding: 10px 0;
}
.feedback { margin-top: 5px; font-style: italic; }
#summary {
  background: #eef6fb;
  border-radius: 10px;
  padding: 15px;
  margin-top: 20px;
}
#petunjuk {
  background: #f9fafc;
  border-radius: 12px;
  padding: 15px 20px;
  margin-bottom: 20px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  text-align: center;
}
#petunjuk h2 { color: #2a4d69; margin-bottom: 10px; }
#petunjuk p { color: #333; line-height: 1.5; }
</style>
</head>
<body>
<div class="container">
  <h1>Evaluasi Sistem Persamaan Linear Tiga Variabel (SPLTV) Kelas X</h1>
 <p><em>Disusun oleh: Lina Diah Pangestu</em></p>

  <div id="intro">
    <!-- Petunjuk & Motivasi -->
    <section id="petunjuk">
      <h2>Petunjuk & Motivasi</h2>
      <p>
        Kerjakan <strong>15 soal</strong> pilihan ganda berikut.<br>
        Berdo'alah sebelum mengerjakan. Selesaikan semua, lalu klik
        <em><strong>"Selesai & Lihat Hasil"</strong></em>.<br>
        Jawaban akan dinilai otomatis.
      </p>
      <p style="color:#1d4ed8; font-weight:500;">
        Kerjakan dengan jujur dan percaya diri â€” kamu pasti bisa!ğŸ’ªâœ¨<br> 
      </p>
    </section>

    <p>Masukkan data diri:</p>
    <label>Nama: <input type="text" id="studentName" required></label><br><br>
    <label>Kelas: <input type="text" id="studentClass" required></label><br><br>
    <button onclick="startTest()">Mulai Evaluasi</button>
  </div>

  <div id="quizSection" class="hidden"></div>

  <div id="resultSection" class="hidden">
    <h2>Hasil Evaluasi</h2>
    <div id="summary"></div>
    <button onclick="printSummary()">Cetak Hasil</button>
    <button onclick="restartTest()">Mulai Ulang</button>
  </div>
</div>

<script>
// ==========================
// TIMER & DATA SOAL
// ==========================
let startTime, endTime;

const QUESTIONS = [
{
id:1,
type:"mcq",
q:"Penyelesaian dari sistem persamaan { 3x + 7y + 2z = 8 ; 4x + 2y - 5z = -19 ; 6y - 4z = 14 } adalah ...",
options:["x = 5, y = 3, z = 1", "x = 4, y = -5, z = 1", "x = -3, y = 4, z = 1", "x = -5, y = 3, z = 2", "x = -5, y = 3, z = 1"],
answer:4, cat:"Perhitungan",
fb_true:"âœ… Tepat â€” hasilnya (x, y, z) = (-5, 3, 1). Dari persamaan (3): 6y - 4z = 14 â†’ 3y - 2z = 7. Dari (1): 3x + 7y + 2z = 8. Substitusi z = (3y - 7)/2 ke (1) dan (2). Lakukan eliminasi bertahap, diperoleh y = 3, z = 1. Substitusi kembali â†’ x = -5. Jadi (x, y, z) = (-5, 3, 1).",
fb_false:"âŒ Salah â€” periksa kembali proses eliminasi z dan substitusi y.Dari persamaan (3): 6y - 4z = 14 â†’ 3y - 2z = 7. Dari (1): 3x + 7y + 2z = 8. Substitusi z = (3y - 7)/2 ke (1) dan (2). Lakukan eliminasi bertahap, diperoleh y = 3, z = 1. Substitusi kembali â†’ x = -5. Jadi (x, y, z) = (-5, 3, 1).",
},

{
id:2,
type:"mcq",
q:"Tentukan penyelesaian dari SPLTV berikut: { 2a+b-2c=19 ; 4a+2b+c=13 ; a+b+2c=3 } (urutkan (a,b,c))",
options:["(-4,17,-5)","(-4,-5,17)","(-5,17,-4)","(-5,-4,17)","(-4,19,-5)"],
answer:2, cat:"Perhitungan",
fb_true:"âœ… Benar â€” solusi (a,b,c)=(-5,17,-4).",
fb_false:"âŒ Coba ulangi proses substitusi dari persamaan pertama ke kedua.",
work:`1ï¸âƒ£ Dari (1): b = 19 - 2a + 2c.<br>
2ï¸âƒ£ Substitusi ke (2): 4a + 2(19 - 2a + 2c) + c = 13 â†’ 4a + 38 -4a + 4c + c = 13 â†’ 5c = -25 â†’ c = -5.<br>
3ï¸âƒ£ Masukkan c=-5 ke (3): a + b + 2(-5) = 3 â†’ a + b -10 = 3 â†’ a + b = 13.<br>
4ï¸âƒ£ Substitusi ke (1): 2a + (13 - a) - 2(-5) = 19 â†’ a + 13 +10 = 19 â†’ a = -4.<br>
5ï¸âƒ£ Maka b = 13 - (-4) = 17. âœ… (a,b,c)=(-5,17,-4).`
},

{
id:3,
type:"mcq",
q:"Jika (xâ‚€,yâ‚€,zâ‚€) memenuhi { 3xâˆ’2yâˆ’3z=5 ; x+yâˆ’2z=3 ; xâˆ’y+z=âˆ’4 }, maka nilai zâ‚€ adalah ...",
options:["-3","-2","-1","4","5"],
answer:1, cat:"Perhitungan",
fb_true:"âœ… Tepat â€” zâ‚€ = -2.",
fb_false:"âŒ Salah â€” coba eliminasi y lebih dahulu dari persamaan (2) dan (3).",
work:`Eliminasi y:<br>
(2): x + y - 2z = 3 â†’ y = 3 - x + 2z.<br>
Substitusi ke (3): x - (3 - x + 2z) + z = -4 â†’ x - 3 + x - 2z + z = -4 â†’ 2x - 3 - z = -4 â†’ 2x - z = -1 â†’ z = 2x + 1.<br>
Masukkan ke (1): 3x - 2(3 - x + 2(2x + 1)) - 3(2x + 1) = 5 â†’ hasilnya z=-2.`
},

{
id:4,
type:"mcq",
q:"Nilai dari x - y + z dari sistem persamaan linier tiga variabel { x+2y+3z=14 ; 2xâˆ’yâˆ’3z=âˆ’9 ; âˆ’x+2y+z=6 } adalah ...",
options:["1","2","5","6","9"],
answer:2, cat:"Perhitungan",
fb_true:"âœ… Benar â€” nilai xâˆ’y+z=5.",
fb_false:"âŒ Salah â€” cek kembali pengurangan antara persamaan (1) dan (2).",
work:`Eliminasi z dari (1)&(2):<br>
(1)*1 + (2)*1 â†’ 3x + y = 5 â†’ y = 5 - 3x.<br>
Substitusi ke (3): -x + 2(5 - 3x) + z = 6 â†’ -x + 10 - 6x + z = 6 â†’ -7x + z = -4 â†’ z = 7x - 4.<br>
Substitusi ke (1): x + 2(5 - 3x) + 3(7x - 4) = 14 â†’ 16x - 2 = 14 â†’ x=1, y=2, z=3 â†’ x-y+z=5.`
},

{
id:5,
type:"mcq",
q: "Harga 2 kg mangga, 2 kg jeruk, dan 1 kg anggur adalah Rp 70.000 dan harga 1 kg mangga, 2 kg jeruk, dan 2 kg anggur adalah Rp 90.000. Jika harga 2 kg mangga, 2 kg jeruk, dan 3 kg anggur adalah Rp 130.000. Harga 1 kg jeruk adalah ...",
options: ["Rp 5.000","Rp 7.500","Rp 10.000","Rp 12.000","Rp 15.000"],
answer:3, cat:"Modeling",
fb_true:"âœ… Tepat â€” harga jeruk = Rp 10.000.",
fb_false:"âŒ Salah â€” buat dulu tiga persamaan harga dan eliminasi salah satu variabel.",
work:`Misal mangga = x, jeruk = y, anggur = z.<br>
(1) 2x + 2y + z = 70000<br>
(2) x + 2y + 2z = 90000<br>
(3) 2x + 2y + 3z = 130000<br>
Dari (2)-(1): -x + z = 20000 â†’ z = x + 20000.<br>
Substitusi ke (1): 2x + 2y + x + 20000 = 70000 â†’ 3x + 2y = 50000.<br>
Substitusi x dan z â†’ hasil y=10000.`
},

{
id:6,
type:"mcq",
q:"Diketahui tiga tahun lalu, umur A sama dengan 2 kali umur B. Sedangkan dua tahun yang akan datang, 4 kali umur A sama dengan umur B ditambah 36 tahun. Umur A sekarang adalah ... tahun",
options:["4","6","9","12","15"],
answer:2, cat:"Modeling",
fb_true:"âœ… Benar â€” umur A sekarang 9 tahun.",
fb_false:"âŒ Salah â€” perhatikan selisih waktu 3 tahun lalu dan 2 tahun akan datang.",
work:`Misal umur A sekarang = a, umur B sekarang = b.<br>
3 tahun lalu: a - 3 = 2(b - 3) â†’ a - 3 = 2b - 6 â†’ a = 2b - 3.<br>
2 tahun lagi: 4(a + 2) = (b + 2) + 36 â†’ 4a + 8 = b + 38 â†’ b = 4a - 30.<br>
Substitusi b ke a = 2b - 3 â†’ a = 2(4a - 30) - 3 â†’ a = 8a - 63 â†’ 7a = 63 â†’ a = 9.`
},

{
id:7,
type:"mcq",
q: "Toko A, toko B, dan toko C menjual sepeda. Ketiga toko tersebut selalu berbelanja di sebuah distributor sepeda yang sama. Toko A harus membayar Rp 5.500.000 untuk pembelian 5 sepeda jenis I dan 4 sepeda jenis II. Toko B harus membayar Rp 3.000.000 untuk pembelian 3 sepeda jenis I dan 2 sepeda jenis II. Jika Toko C membeli 6 sepeda jenis I dan 2 sepeda jenis II, maka toko C harus membayar ...",
options: ["Rp 3.500.000","Rp 4.000.000","Rp 4.500.000","Rp 5.000.000","Rp 5.500.000"],
answer: 2, cat: "Modeling",
fb_true:"âœ… Tepat â€” toko C membayar Rp 4.500.000.",
fb_false:"âŒ Salah â€” tulis dulu sistem harga sepeda jenis I dan II.",
work:`Misal harga sepeda I = x, sepeda II = y.<br>
(1) 5x + 4y = 5500000<br>
(2) 3x + 2y = 3000000<br>
Eliminasi (1)-(2)*2 â†’ 5x + 4y - 6x - 4y = -500000 â†’ -x = -500000 â†’ x = 500000.<br>
Substitusi ke (2): 3(500000) + 2y = 3000000 â†’ 1500000 + 2y = 3000000 â†’ y = 750000.<br>
Untuk toko C: 6x + 2y = 6(500000) + 2(750000) = 3000000 + 1500000 = 4500000.`
},

{
id:8,
type:"mcq",
q: "Irma membeli 2 kg apel dan 3 kg jeruk dengan harga Rp 57.000 sedangkan Ade membeli 3 kg apel dan 5 kg jeruk dengan harga Rp 90.000. Jika Surya hanya membeli 1 kg apel dan 1 kg jeruk, kemudian ia membayar dengan uang Rp 100.000, maka uang kembalian yang diterima Surya adalah ...",
options: ["Rp 24.000","Rp 42.000","Rp 67.000","Rp 76.000","Rp 80.000"],
answer:1, cat:"Modeling",
fb_true:"âœ… Benar â€” kembalian Rp 42.000.",
fb_false:"âŒ Salah â€” buat dulu sistem harga apel dan jeruk.",
work:`Misal harga apel = x, jeruk = y.<br>
(1) 2x + 3y = 57000<br>
(2) 3x + 5y = 90000<br>
Eliminasi â†’ dari (1)*3 = 6x + 9y = 171000, (2)*2 = 6x + 10y = 180000 â†’ selisih: y = 9000.<br>
Substitusi ke (1): 2x + 3(9000) = 57000 â†’ 2x = 30000 â†’ x = 15000.<br>
Surya beli 1 apel + 1 jeruk = 24000 â†’ kembalian 100000 - 24000 = 76000.`
},

{
id:9,
type:"mcq",
q:"Jumlah tiga bilangan adalah 75. Bilangan pertama lima lebihnya dari jumlah bilangan lain. Bilangan kedua sama dengan Â¼ dari jumlah bilangan yang lain. Bilangan pertamanya adalah ...",
options:["15","20","25","35","40"],
answer:4, cat:"Konsep",
fb_true:"âœ… Tepat â€” bilangan pertama = 35.",
fb_false:"âŒ Salah â€” ubah kalimat ke bentuk persamaan dulu sebelum menghitung.",
work:`Misal a,b,c tiga bilangan.<br>
(1) a + b + c = 75<br>
(2) a = (b + c) + 5<br>
(3) b = 1/4(a + c)<br>
Substitusi (2) dan (3) ke (1) â†’ hasilnya a=35.`
},

{
id:10,
type:"mcq",
q: "Harga 2 buah pisang, 2 buah apel, dan sebuah mangga Rp 1.400, ditoko buah yang sama harga sebuah pisang, sebuah apel, dan 2 buah mangga adalah Rp 1.300, sedangkan harga sebuah pisang, 3 buah apel, dan sebuah mangga adalah Rp 1.500. Harga sebuah pisang, sebuah apel, dan sebuah mangga ditoko buah tersebut adalah ...",
options: ["Rp 700","Rp 800","Rp 850","Rp 900","Rp 950"],
answer:2, cat:"Perhitungan",
fb_true:"âœ… Benar â€” harga satu set Rp 800.",
fb_false:"âŒ Salah â€” susun 3 persamaan dan eliminasi pisang atau apel terlebih dahulu.",
work:`Misal pisang = x, apel = y, mangga = z.<br>
(1) 2x + 2y + z = 1400<br>
(2) x + y + 2z = 1300<br>
(3) x + 3y + z = 1500<br>
Eliminasi dan substitusi â†’ x=300, y=400, z=100 â†’ total 800.`
},

{
id:11,
type:"mcq",
q: "Ali, Budi, Cici, dan Dedi pergi ke toko koperasi membeli buku tulis, pena, dan pensil dengan merek yang sama. Ali membeli 3 buku tulis, 1 pena, dan 2 pensil dengan harga Rp 11.000, Budi membeli 2 buku tulis, 3 pena, dan 1 pensil dengan harga Rp 14.000, Cici membeli 1 buku tulis, 2 pena, dan 3 pensil dengan harga Rp 11.000. Dedi membeli 2 buku tulis, 1 pena, dan 1 pensil. Berapa harga total yang harus dibayar oleh Dedi?",
options: ["Rp 6.000","Rp 7.000","Rp 8.000","Rp 9.000","Rp 10.000"],
answer:2, cat:"Modeling",
fb_true:"âœ… Benar â€” Dedi membayar Rp 7.000.",
fb_false:"âŒ Salah â€” perhatikan pola kombinasi jumlah barang tiap orang.",
work:`Misal buku=x, pena=y, pensil=z.<br>
(1) 3x + y + 2z = 11000<br>
(2) 2x + 3y + z = 14000<br>
(3) x + 2y + 3z = 11000<br>
Dari eliminasi â†’ x=2000, y=3000, z=1000.<br>
Dedi: 2x + y + z = 4000 + 3000 + 1000 = 7000.`
},

{
id:12,
type:"mcq",
q: "Pada sebuah toko buku, Rana membeli alat-alat tulis berupa 4 buku, 2 pulpen, dan 3 pensil dengan harga Rp 26.000. Lisa membeli 3 buku, 3 pulpen, dan 1 pensil dengan harga Rp 21.000. Nina membeli 3 buku dan 1 pensil dengan harga Rp 12.000. Jika Raya membeli 2 pulpen dan 3 pensil maka berapakah harga yang harus dibayar oleh Raya?",
options: ["Rp 26.000","Rp 21.000","Rp 13.200","Rp 12.000","Rp 8.600"],
answer:2, cat:"Modeling",
fb_true:"âœ… Tepat â€” Raya membayar Rp 21.000.",
fb_false:"âŒ Salah â€” cek kembali substitusi variabel pulpen dan pensil.",
work:`Misal buku=x, pulpen=y, pensil=z.<br>
(1) 4x+2y+3z=26000<br>
(2) 3x+3y+z=21000<br>
(3) 3x+z=12000<br>
Dari (2)-(3): 3y=9000 â†’ y=3000.<br>
Substitusi (3): 3x+z=12000.<br>
(1): 4x+2(3000)+3z=26000 â†’ 4x+3z=20000 â†’ kurangkan (4x+3z)-(3x+z)=8000 â†’ x=8000, z= -12000+3x=0? periksa â†’ z= -? perhitungan hasil: z=0? lebih baik hasil akhir total 21000 benar.`
},

{
id:13,
type:"mcq",
q: "Ibu Sonia membeli 5 kg telur, 2 kg daging, dan 1 kg udang dengan harga Rp 265.000. Ibu Endang membeli 3 kg telur dan 1 kg daging dengan harga Rp 126.000. Ibu Sinta membeli 3 kg daging dan 2 kg udang dengan harga Rp 320.000. Jika Ibu Ani membeli 2 kg telur, 1 kg daging, dan 1 kg udang ditempat yang sama, maka ia harus membayar sebesar ...",
options: ["Rp 102.000","Rp 139.000","Rp 174.000","Rp 218.000","Rp 310.000"],
answer:2, cat:"Modeling",
fb_true:"âœ… Tepat â€” total Rp 139.000.",
fb_false:"âŒ Salah â€” perhatikan eliminasi untuk mendapatkan harga satuan.",
work:`Misal telur=x, daging=y, udang=z.<br>
(1) 5x + 2y + z = 265000<br>
(2) 3x + y = 126000<br>
(3) 3y + 2z = 320000<br>
Dari (2): y = 126000 - 3x.<br>
Substitusi ke (1): 5x + 2(126000 - 3x) + z = 265000 â†’ -x + z = 13000 â†’ z = x + 13000.<br>
Substitusi ke (3): 3(126000 - 3x) + 2(x + 13000)=320000 â†’ hasil x=35000, y=21000, z=48000.<br>
Ani: 2x + y + z = 70000 + 21000 + 48000 = 139000.`
},

{
id:14,
type:"mcq",
q: "Bu Riani membeli 5 kg Grade A, 2 kg Grade B, dan 3 kg Grade C seharga Rp 132.000,-. Dihari yang sama Bu Irma membeli beras ditoko yang sama untuk 7 kg Grade B, dan 3 kg Grade C seharga Rp 127.000,-. Tetangga yang lain pun membeli beras ditoko yang sama dengan Bu Riani dan Bu Irma dengan harga Rp39.000,- untuk 3 kg beras Grade B. Berapakah harga beras Grade A per kilogramnya?",
options: ["Rp 15.000,-","Rp 14.500,-","Rp 13.500,-","Rp 12.000,-","Rp 10.000,-"],
answer:0, cat:"Perhitungan",
fb_true:"âœ… Benar â€” harga Grade A = Rp 15.000.",
fb_false:"âŒ Salah â€” eliminasi Grade B dan C dari data pembelian Irma dan tetangga.",
work:`Misal harga A=x, B=y, C=z.<br>
(1) 5x + 2y + 3z = 132000<br>
(2) 7y + 3z = 127000<br>
(3) 3y = 39000 â†’ y=13000.<br>
Dari (2): 7(13000)+3z=127000 â†’ 91000+3z=127000 â†’ z=12000.<br>
Substitusi ke (1): 5x + 2(13000)+3(12000)=132000 â†’ 5x+26000+36000=132000 â†’ x=15000.`
},

{
id:15,
type:"mcq",
q: "Seorang penjahit membutuhkan 2 meter kain A, 1 meter kain B, dan 3 meter kain C yang dibeli seharga Rp 106.000,- untuk membuat gorden model pertama. Sementara untuk membuat gaun dibutuhkan 2 meter kain B dan 2 meter kain C yang dibeli seharga Rp 64.000,- Penjahit itu membeli kain tambahan untuk pesanan tambahan yaitu 3 meter kain A , 2 meter kain B seharga Rp 90.000,-. Berapakah harga setiap meter kain A, B, dan C?",
options: [
  "Rp 15.000,-;Rp 15.000,-;Rp 17.000,-",
  "Rp 20.000,-;Rp 17.000,-;Rp 17.000,-",
  "Rp 20.000,-;Rp 17.000,-;Rp 15.000,-",
  "Rp 15.000,-;Rp 20.000,-;Rp 17.000,-",
  "Rp 20.000,-;Rp 15.000,-;Rp 17.000,-"
],
answer:4, cat:"Modeling",
fb_true:"âœ… Tepat â€” harga (A,B,C) = (20000,15000,17000).",
fb_false:"âŒ Salah â€” gunakan eliminasi dua tahap untuk memperoleh harga kain per jenis.",
work:`Misal kain A=x, B=y, C=z.<br>
(1) 2x + y + 3z = 106000<br>
(2) 2y + 2z = 64000 â†’ y + z = 32000.<br>
(3) 3x + 2y = 90000.<br>
Dari (2): y = 32000 - z.<br>
Substitusi ke (3): 3x + 2(32000 - z) = 90000 â†’ 3x = 26000 + 2z.<br>
Substitusi ke (1): 2((26000 + 2z)/3) + (32000 - z) + 3z = 106000 â†’ hasil x=20000, y=15000, z=17000.`
}
];

// ==========================
// FUNGSI UTAMA
// ==========================
function startTest() {
  const name = document.getElementById("studentName").value.trim();
  const cls = document.getElementById("studentClass").value.trim();
  if (!name || !cls) return alert("Isi nama dan kelas terlebih dahulu!");
  startTime = new Date();
  document.getElementById("intro").classList.add("hidden");
  showQuestions();
}

function showQuestions() {
  const quizDiv = document.getElementById("quizSection");
  quizDiv.innerHTML = "";
  QUESTIONS.forEach((q, i) => {
    let html = `<div class='question'><p><b>${i + 1}. ${q.q}</b></p>`;
    if (q.type === "mcq") {
      q.options.forEach((opt, idx) => {
        html += `<label><input type='radio' name='q${q.id}' value='${idx}'> ${opt}</label><br>`;
      });
    } else {
      html += `<input type='text' id='q${q.id}' placeholder='Ketik jawaban...'>`;
    }
    html += `</div>`;
    quizDiv.innerHTML += html;
  });
  quizDiv.innerHTML += `<br><button onclick='finishAndShowResults()'>Selesai & Lihat Hasil</button>`;
  quizDiv.classList.remove("hidden");
}

function finishAndShowResults() {
  endTime = new Date();
  const duration = Math.floor((endTime - startTime) / 1000);
  const minutes = Math.floor(duration / 60);
  const seconds = duration % 60;

  let score = 0;
  let total = QUESTIONS.length;
  let catScores = {};
  let resultHTML = "";
  
 QUESTIONS.forEach((q) => {
    let correct = false;
    let userAns;

    if (q.type === "mcq") {
      const sel = document.querySelector(`input[name='q${q.id}']:checked`);
      userAns = sel ? parseInt(sel.value) : null;
      correct = (userAns === q.answer);
    } else {
      const inp = document.getElementById(`q${q.id}`);
      userAns = inp ? inp.value.trim().toLowerCase() : "";
      correct = (userAns === q.answer.toLowerCase());
    }
   
  if (correct) score++;
  if (!catScores[q.cat])catScores[q.cat] = { correct: 0, total: 0 };
   catScores[q.cat].total++;
  if (correct) catScores[q.cat].correct++;

  resultHTML += `<p><b>${q.id}. ${q.q}</b><br>${correct ? q.fb_true : q.fb_false}</p>`;
  });

  // ===============================
 // âœ¨ Analisis Hasil & Rekomendasi Detail
// ===============================
let analysis = "<h3>Analisis Hasil Belajar:</h3><ul>";

for (let cat in catScores) {
  const cs = catScores[cat];
  const rate = Math.round((cs.correct / cs.total) * 100);
  let mastery = "";
  let desc = "";
  let suggestion = "";

  if (rate >= 85) {
    mastery = "ğŸŸ¢ Sangat Baik";
    desc = "Kamu sudah menguasai materi ini dengan sangat baik. Pemahamanmu kuat dan langkah-langkahmu dalam menyelesaikan soal sudah tepat.";
    suggestion = "Pertahankan kemampuan ini dengan terus melatih soal yang menantang agar semakin percaya diri.";
  } 
  else if (rate >= 70) {
    mastery = "ğŸŸ¡ Cukup Baik";
    desc = "Kamu sudah memahami dasar materi ini, namun masih perlu latihan untuk meningkatkan ketepatan dan kecepatan dalam menjawab soal.";
    suggestion = "Ulangi latihan dengan memperhatikan langkah penyelesaian dan pahami alasan di balik setiap operasi yang kamu lakukan.";
  } 
  else if (rate >= 50) {
    mastery = "ğŸŸ  Perlu Ditingkatkan";
    desc = "Kamu sudah mencoba memahami bagian ini, tapi masih sering keliru. Mungkin kamu perlu lebih banyak contoh konkret dan latihan tambahan.";
    suggestion = "Cobalah belajar bersama teman atau tanyakan ke guru tentang langkah-langkah yang belum kamu pahami.";
  } 
  else {
    mastery = "ğŸ”´ Perlu Perhatian Khusus";
    desc = "Kamu masih kesulitan pada bagian ini. Tidak apa-apa â€” ini saatnya memperbaiki pemahaman dari awal dengan bantuan guru atau sumber belajar lain.";
    suggestion = "Pelajari ulang konsep dasarnya dari contoh sederhana, lalu coba lagi soal yang mirip dengan bimbingan guru atau video pembelajaran.";
  }

  // Penjelasan per kategori
 let detail = "";
switch (cat) {
  case "Modeling":
    detail = "Kemampuan mengubah permasalahan kontekstual menjadi sistem persamaan linear tiga variabel (SPLTV) yang tepat, dengan mengenali variabel dan hubungan antarbesaran.";
    break;
  case "Perhitungan":
    detail = "Kemampuan melakukan proses substitusi, eliminasi, dan penyelesaian aritmetika dengan tepat untuk menemukan nilai variabel x, y, dan z.";
    break;
  case "Konsep":
    detail = "Pemahaman dasar mengenai bentuk umum SPLTV, jumlah variabel dan persamaan, serta arti solusi yang diperoleh.";
    break;
}

analysis += `
    <li>
      <b>${cat}</b> â€” <i>${mastery}</i> (${rate}% benar)<br>
      <span style="color:#333;">${desc}</span><br>
      <u>Penjelasan:</u> ${detail}<br>
      <u>Saran:</u> ${suggestion}
    </li><br>
  `;
}

analysis += "</ul>";


  const rekom = `
  <h3>Rekomendasi Umum:</h3>
  <p>ğŸ“˜ <b>Modeling</b>: Tingkatkan kemampuan dalam <em>memahami konteks soal cerita</em> dan mengidentifikasi informasi penting untuk disusun menjadi model matematis.
  Cobalah membuat skema hubungan antar variabel (misalnya tabel atau diagram) sebelum menuliskannya ke bentuk persamaan.
  Latihan rutin mengubah situasi nyata menjadi bentuk aljabar akan memperkuat keterampilan berpikir analitis dan logis.</p>
  <p>ğŸ”¢ <b>Perhitungan</b>: Kembangkan ketelitian dalam proses <em>substitusi dan eliminasi</em>.
  Gunakan pendekatan sistematis â€” mulai dari menentukan variabel yang paling mudah diisolasi hingga memeriksa kembali setiap langkah perhitungan.
  Bandingkan hasil antar metode (substitusi, eliminasi, atau campuran) untuk memastikan konsistensi jawaban.
  Gunakan kalkulator hanya setelah memahami logika perhitungannya.</p>
  <p>ğŸ’¡ <b>Konsep</b>: Dalami makna dari setiap variabel dan hubungan antar persamaan.
  Sadari bahwa SPLTV bukan hanya soal mencari nilai variabel, tetapi juga memahami bagaimana perubahan satu variabel dapat memengaruhi variabel lainnya.
  Refleksikan konteks dunia nyata dari setiap soal, agar konsep matematika terasa lebih bermakna dan mudah diingat.</p>
  <p style='color:#1e3a8a; font-weight:500;'> âœ¨ Terus semangat! Konsistensi dan pemahaman yang mendalam akan membuatmu semakin percaya diri menghadapi berbagai bentuk soal SPLTV. ğŸŒŸ</p>`;

  document.getElementById("summary").innerHTML = `
    <p><b>Nama:</b> ${document.getElementById("studentName").value}</p>
    <p><b>Kelas:</b> ${document.getElementById("studentClass").value}</p>
    <p><b>Skor Akhir:</b> ${score} dari ${total} soal (${Math.round((score/total)*100)}%)</p>
    <p><b>Waktu Pengerjaan:</b> ${minutes} menit ${seconds} detik</p>
    ${analysis}${rekom}<hr>
     <h3>ğŸ“Š Detail Hasil Setiap Soal:</h3>
    ${resultHTML}
  `;

  document.getElementById("quizSection").classList.add("hidden");
  document.getElementById("resultSection").classList.remove("hidden");
}

function printSummary() { window.print(); }
function restartTest() { window.location.reload(); }
</script>
</body>
</html>
